# SFGraphics
[![Build status](https://ci.appveyor.com/api/projects/status/2u86186wtxiq77jw/branch/master?svg=true)](https://ci.appveyor.com/project/ScanMountGoat/sfgraphics/branch/master)  

### Overview
SFGraphics is a C# OpenGL utility library using OpenTK. The library allows for using OpenGL in a more
object oriented manner by providing wrapper classes for the major OpenGL object types. In addition,
SFGraphics provides vector and color utility functions.

**The core functionality is mostly complete, but many features are still subject to change. Avoid using this for official projects until the first release.**

### Requirements
| Feature | Minimum Required Version |
| ---     | ---------------------- |
| .NET | 4.0 |
|OpenGL / GLSL | 3.30 |

# Features
### OpenGL Object Wrappers
* Shader programs and shaders
* Buffer objects
* Vertex array objects
* Framebuffer objects
* Sampler objects
* Renderbuffer objects
* Textures
    * 2D texture
    * Cube map
    * Depth map

### Compatibility
GLObjects provide a properties for the integer ID generated by OpenGL and the associated target. This allows for easier integration with existing code, but may conflict with the functionality of the wrapper classes.  

Example:
``` csharp
Shader shader = new Shader();
// ... load the appropriate shader files
shader.UseProgram(); // Use the shader's program ID.
GL.UseProgram(shader.Id); // Equivalent to the above line.
```

### Memory Management
All classes inheriting from GLObject use reference counting. Integer IDs generated by OpenGL with no more references can be deleted with a single static method in `GLObjectManager`. See the online documentation for details.

### Generic Types
The textures and buffer object classes provide support for loading data from arrays of any value type (i.e. structs). For example, texture data can be loaded from bytes, floats, ints, or OpenTK.Vector3.  

Example:
``` csharp
BufferObject buffer = new BufferObject(BufferTarget.ArrayBuffer);
MyVertexStruct[] vertices = GetVertices();
buffer.BufferData(vertices, MyVertexStruct.SizeInBytes,  BufferUsageHint.StaticDraw);
```
``` csharp
Texture2D texture = new Texture2D();
Vector3[] pixels = new Vector3[32 * 32];
// Magenta and black stripes.
for (int i = 0; i < pixels.Length; i++)
{
    pixels[i] = new Vector3(1, 0, 1) * (i % 2);
}
TextureFormatUncompressed format = new TextureFormatUncompressed(PixelInternalFormat.Rgb, PixelFormat.Rgb, PixelType.Float);
texture.LoadImageData<Vector3>(32, 32, pixels, 0, format);
```

# Issues
Please report all bugs or feature requests in the [bug tracker](https://github.com/ScanMountGoat/SFGraphics/issues).

# Building
Open the .sln and build in Visual Studio 2017 with .NET framework 4.0 or later.

# Releases
[Latest Commit](https://github.com/ScanMountGoat/SFGraphics/releases)  
The latest commit to master built by Appveyor. These builds are still being tested.

# Documentation
The online documentation is updated less
frequently than the doc comments. To see doc comments in Visual Studio, simply place `SFGraphics.xml` in the same directory
as the DLL.

[Online Code Documentation](https://scanmountgoat.github.io/SFGraphics/)

TODO: [Wiki]()

# Credits
### OpenTK  
Used as the C# wrapper for OpenGL functions. Provides vector and matrix types.
* [Github](https://github.com/opentk/opentk)
* [License](https://github.com/opentk/opentk/blob/develop/License.txt)

### Smash Forge  
Much of the OpenGL object wrappers and utility code is adapted from code I originally wrote for Smash Forge.
* [Github](https://github.com/jam1garner/Smash-Forge)
* [License](https://github.com/jam1garner/Smash-Forge/blob/master/License.txt)

### Sandcastle
Online documentation for all classes and methods in SFGraphics is generated using Sandcastle.
* [Github](https://github.com/EWSoftware/SHFB)
